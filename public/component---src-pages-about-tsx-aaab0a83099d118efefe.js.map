{"version":3,"file":"component---src-pages-about-tsx-aaab0a83099d118efefe.js","mappings":"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","sources":["webpack://atelier-mendgen-peissl/./src/utils/images-helper.ts","webpack://atelier-mendgen-peissl/./src/components/image.module.scss","webpack://atelier-mendgen-peissl/./src/components/image.tsx","webpack://atelier-mendgen-peissl/./src/pages/about.module.scss","webpack://atelier-mendgen-peissl/./src/pages/about.tsx"],"sourcesContent":["import { useEffect } from 'react';\n\nconst listenerCallbacks = new WeakMap();\n\nlet observer;\n\nconst handleIntersections = (entries) => {\n  entries.forEach((entry) => {\n    if (listenerCallbacks.has(entry.target)) {\n      const cb = listenerCallbacks.get(entry.target);\n\n      if (entry.isIntersecting || entry.intersectionRatio > 0) {\n        observer.unobserve(entry.target);\n        listenerCallbacks.delete(entry.target);\n        cb();\n      }\n    }\n  });\n};\n\nconst getIntersectionObserver = () => {\n  if (observer === undefined) {\n    observer = new IntersectionObserver(handleIntersections, {\n      rootMargin: '100px',\n      threshold: 0.15,\n    });\n  }\n  return observer;\n};\n\nexport const useIntersection = (elem, callback) => {\n  useEffect(() => {\n    if (!elem.current) return;\n\n    const target = elem.current;\n    const observer = getIntersectionObserver();\n    listenerCallbacks.set(target, callback);\n    observer.observe(target);\n\n    return () => {\n      listenerCallbacks.delete(target);\n      observer.unobserve(target);\n    };\n  }, [elem]);\n};\n","// extracted by mini-css-extract-plugin\nexport var image = \"image-module--image--7d92c\";\nexport var isLoaded = \"image-module--isLoaded--e3ee8\";\nexport var thumbnail = \"image-module--thumbnail--d36fb\";\nexport var wrapper = \"image-module--wrapper--d3047\";","import React, { useState, useRef } from 'react';\nimport { useIntersection } from '../utils/images-helper';\n\nimport {\n  ImageType,\n  ImageFileWithWidthMap,\n} from '../interfaces/image.interface';\n\nimport classNames from 'classnames/bind';\nimport * as styles from './image.module.scss';\n\nconst cx = classNames.bind(styles);\n\ntype Props = {\n  image: ImageType;\n  onClick?: () => void;\n  className?: string;\n  imgClassName?: string;\n  alt?: string;\n};\n\nconst Image: React.FC<Props> = ({\n  onClick,\n  className,\n  image,\n  alt,\n  imgClassName,\n}) => {\n  const [loaded, setLoaded] = useState(false);\n\n  const transparentImageUrl =\n    'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII=';\n\n  const [isInView, setIsInView] = useState(false);\n  const imgRef = useRef();\n  useIntersection(imgRef, () => {\n    setIsInView(true);\n  });\n\n  const widthMap = {\n    thumbnail: {\n      width: '245',\n      minWidth: '0',\n      maxWidth: '245',\n    },\n    small: {\n      width: '500',\n      minWidth: '246',\n      maxWidth: '600',\n    },\n    medium: {\n      width: '750',\n      minWidth: '601',\n      maxWidth: '800',\n    },\n    large: {\n      width: '1000',\n      minWidth: '801',\n      maxWidth: '1200',\n    },\n  };\n\n  const formats: ImageFileWithWidthMap[] = image.formats\n    ? Object.keys(image.formats).map((format) => {\n        return { ...widthMap[format], ...image.formats[format] };\n      })\n    : [];\n\n  return (\n    <div\n      ref={imgRef}\n      className={cx(className, 'wrapper', { isLoaded: loaded })}\n      onClick={onClick}\n    >\n      <div\n        className={cx('placeholder')}\n        style={{\n          paddingTop: `${(image.height / image.width) * 100}%`,\n        }}\n      />\n\n      {isInView && (\n        <>\n          <img\n            className={cx(imgClassName, 'thumbnail')}\n            src={image.formats?.thumbnail?.url || transparentImageUrl}\n            alt={image.alternativeText || alt || image.hash}\n          />\n\n          <picture>\n            {formats.map(({ hash, url, minWidth, maxWidth }) => (\n              <source\n                key={hash}\n                srcSet={url}\n                media={`(min-width: ${minWidth}px) and (max-width: ${maxWidth}px)`}\n              />\n            ))}\n            <img\n              className={cx(imgClassName, 'image')}\n              alt={image.alternativeText || alt || image.hash}\n              src={image.url}\n              onLoad={() => setLoaded(true)}\n            />\n          </picture>\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default Image;\n","// extracted by mini-css-extract-plugin\nexport var collaborator = \"about-module--collaborator--bb09a\";\nexport var collaboratorsIndex = \"about-module--collaborators-index--50e95\";\nexport var collaboratorsList = \"about-module--collaborators-list--57e44\";\nexport var dateList = \"about-module--date-list--e9664\";\nexport var image = \"about-module--image--5afff\";\nexport var list = \"about-module--list--0a010\";\nexport var listContent = \"about-module--list-content--df1db\";\nexport var listItem = \"about-module--list-item--ce7ee\";\nexport var section = \"about-module--section--7e2d7\";","import * as React from 'react';\nimport { graphql, useStaticQuery } from 'gatsby';\n\nimport Markdown from 'react-markdown';\nimport SEO from '../components/seo';\nimport Image from '../components/image';\n\nimport classNames from 'classnames/bind';\nimport * as styles from './about.module.scss';\n\nconst cx = classNames.bind(styles);\n\nconst About: React.FC = () => {\n  const { mpapi } = useStaticQuery<GatsbyTypes.AboutQuery>(graphql`\n    query About {\n      mpapi {\n        aboutPage {\n          data {\n            attributes {\n              CV {\n                id\n                title\n                image {\n                  data {\n                    attributes {\n                      alternativeText\n                      formats\n                      hash\n                      height\n                      url\n                      width\n                    }\n                  }\n                }\n                dates(pagination: { limit: 100 }) {\n                  date\n                  description\n                  id\n                }\n              }\n              content\n              selectedPublications\n              collaborators(pagination: { limit: 100 }) {\n                id\n                title\n              }\n            }\n            id\n          }\n        }\n      }\n    }\n  `);\n\n  if (!mpapi) return null;\n  const { data } = mpapi.aboutPage;\n\n  return (\n    <>\n      <SEO\n        title={'About | Atelier Mendgen Peissl'}\n        description=\"Architects Anna Mendgen und Dirk Peissl founded Atelier Mendgen Peissl 2012 in Berlin. Read all about their atelier here.\"\n        image=\"https://mendgenpeissl.com/logo.jpg\"\n      />\n      <h1>About</h1>\n      <section className={cx('section')}>\n        {data.attributes.content && (\n          <Markdown className={cx('content')}>\n            {data.attributes.content}\n          </Markdown>\n        )}\n      </section>\n\n      <ul className={cx('list', 'section')}>\n        {data.attributes.CV.map(({ title, image, dates }) => (\n          <li key={title} className={cx('listItem')}>\n            <div className={cx('listContent')}>\n              {image && image.data && (\n                <Image\n                  className={cx('image')}\n                  image={image.data.attributes}\n                  alt={title}\n                />\n              )}\n              <h3 className={cx('subtitle')}>{title}</h3>\n              <ul className={cx('dateList')}>\n                {dates.map(({ date, description, id }) => (\n                  <li key={`date-${title}-${id}`}>\n                    <p className={cx('date')}>{date}</p>\n                    <span className={cx('description')}>\n                      <Markdown>{description}</Markdown>\n                    </span>\n                  </li>\n                ))}\n              </ul>\n            </div>\n          </li>\n        ))}\n      </ul>\n\n      {data.attributes.collaborators.length > 0 && (\n        <section className={cx('section')}>\n          <h3>Collaboration</h3>\n\n          <ul className={cx('collaboratorsList')}>\n            {data.attributes.collaborators\n              .sort((a, b) => {\n                const collaboratorA = a.title.toUpperCase(); // ignore upper and lowercase\n                const collaboratorB = b.title.toUpperCase(); // ignore upper and lowercase\n                if (collaboratorA < collaboratorB) return -1;\n                if (collaboratorA > collaboratorB) return 1;\n                return 0;\n              })\n              .reduce((collaborators, { id, title }, i) => {\n                const firstLetter = title[0].toUpperCase();\n                const prevCollaborator = data.attributes.collaborators[i - 1];\n                let prevFirstLetter;\n\n                if (prevCollaborator)\n                  prevFirstLetter = prevCollaborator.title[0].toUpperCase();\n\n                const collaborator = (\n                  <li key={`${id}-${title}`} className={cx('collaborator')}>\n                    {title}\n                  </li>\n                );\n\n                if (firstLetter === prevFirstLetter)\n                  return [...collaborators, collaborator];\n\n                return [\n                  ...collaborators,\n                  <span\n                    key={`${firstLetter}-key`}\n                    className={cx('collaboratorsIndex')}\n                  >\n                    {firstLetter}\n                  </span>,\n                  collaborator,\n                ];\n              }, [])}\n          </ul>\n        </section>\n      )}\n\n      {data.attributes.selectedPublications && (\n        <section className={cx('section')}>\n          <h3>Selected publications</h3>\n          <Markdown className={cx('selectedPublications')}>\n            {data.attributes.selectedPublications}\n          </Markdown>\n        </section>\n      )}\n    </>\n  );\n};\n\nexport default About;\n"],"names":["observer","listenerCallbacks","WeakMap","handleIntersections","entries","forEach","entry","has","target","cb","get","isIntersecting","intersectionRatio","unobserve","delete","getIntersectionObserver","undefined","IntersectionObserver","rootMargin","threshold","isLoaded","thumbnail","wrapper","cx","classNames","styles","elem","callback","onClick","className","image","alt","imgClassName","useState","loaded","setLoaded","isInView","setIsInView","imgRef","useRef","useEffect","current","set","observe","widthMap","width","minWidth","maxWidth","small","medium","large","formats","Object","keys","map","format","React","ref","style","paddingTop","height","src","_image$formats","_image$formats$thumbn","url","alternativeText","hash","key","srcSet","media","onLoad","collaborator","collaboratorsIndex","collaboratorsList","dateList","list","listContent","listItem","section","mpapi","useStaticQuery","data","aboutPage","SEO","title","description","attributes","content","Markdown","CV","dates","Image","date","id","collaborators","length","sort","a","b","collaboratorA","toUpperCase","collaboratorB","reduce","i","prevFirstLetter","firstLetter","prevCollaborator","selectedPublications"],"sourceRoot":""}